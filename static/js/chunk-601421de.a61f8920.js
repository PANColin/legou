(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-601421de"],{"09bb":function(t,e,n){"use strict";n("6fac")},"0cb2":function(t,e,n){var r=n("7b0b"),i=Math.floor,o="".replace,a=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,s,u,l){var d=n+t.length,f=s.length,h=c;return void 0!==u&&(u=r(u),h=a),o.call(l,h,(function(r,o){var a;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(d);case"<":a=u[o.slice(1,-1)];break;default:var c=+o;if(0===c)return r;if(c>f){var l=i(c/10);return 0===l?r:l<=f?void 0===s[l-1]?o.charAt(1):s[l-1]+o.charAt(1):r}a=s[c-1]}return void 0===a?"":a}))}},"107c":function(t,e,n){var r=n("d039");t.exports=r((function(){var t=RegExp("(?<a>b)","string".charAt(5));return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},"14c3":function(t,e,n){var r=n("c6b6"),i=n("9263");t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var o=n.call(t,e);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},1655:function(t,e,n){},"223c":function(t,e,n){"use strict";n("5ba0")},"2e1a":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"goods-show"},[n("van-dropdown-menu",[n("van-dropdown-item",{attrs:{options:t.option1},on:{change:t.changeDevelop},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}}),n("van-dropdown-item",{attrs:{options:t.option2},on:{change:t.changeDevelop},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}})],1),n("van-grid",{attrs:{border:!1,"column-num":2,gutter:4}},t._l(t.currentGoods.length?t.currentGoods:t.goodsList,(function(e){return n("van-grid-item",{key:e.id,attrs:{to:"/gooddetail?id="+e.id}},[n("van-image",{attrs:{src:e.list_pic_url}}),n("div",{staticClass:"text"},[n("p",[t._v(t._s(e.name))]),n("p",{staticClass:"price"},[t._v("￥"+t._s(e.retail_price))])])],1)})),1)],1)])},i=[],o={name:"Goodsshow",components:{},props:{goodsList:{type:Array,required:!0},currentGoods:{type:Array,required:!1}},data:function(){return{value1:0,value2:"",current:"",option1:[{text:"全部商品",value:0},{text:"新款商品",value:1},{text:"活动商品",value:2}],option2:[{text:"默认排序",value:""},{text:"价格降序",value:"desc"},{text:"价格升序",value:"asc"}]}},mounted:function(){},methods:{changeDevelop:function(t){this.current=t,this.$emit("changeDef",t)}},created:function(){}},a=o,c=(n("d25c"),n("2877")),s=Object(c["a"])(a,r,i,!1,null,"74df3a54",null);e["a"]=s.exports},"498a":function(t,e,n){"use strict";var r=n("23e7"),i=n("58a8").trim,o=n("c8d2");r({target:"String",proto:!0,forced:o("trim")},{trim:function(){return i(this)}})},5319:function(t,e,n){"use strict";var r=n("d784"),i=n("d039"),o=n("825a"),a=n("50c4"),c=n("a691"),s=n("1d80"),u=n("8aa5"),l=n("0cb2"),d=n("14c3"),f=n("b622"),h=f("replace"),v=Math.max,p=Math.min,g=function(t){return void 0===t?t:String(t)},x=function(){return"$0"==="a".replace(/./,"$0")}(),m=function(){return!!/./[h]&&""===/./[h]("a","$0")}(),y=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}));r("replace",(function(t,e,n){var r=m?"$":"$0";return[function(t,n){var r=s(this),i=void 0==t?void 0:t[h];return void 0!==i?i.call(t,r,n):e.call(String(r),t,n)},function(t,i){if("string"===typeof i&&-1===i.indexOf(r)&&-1===i.indexOf("$<")){var s=n(e,this,t,i);if(s.done)return s.value}var f=o(this),h=String(t),x="function"===typeof i;x||(i=String(i));var m=f.global;if(m){var y=f.unicode;f.lastIndex=0}var b=[];while(1){var k=d(f,h);if(null===k)break;if(b.push(k),!m)break;var w=String(k[0]);""===w&&(f.lastIndex=u(h,a(f.lastIndex),y))}for(var _="",I=0,S=0;S<b.length;S++){k=b[S];for(var E=String(k[0]),L=v(p(c(k.index),h.length),0),$=[],C=1;C<k.length;C++)$.push(g(k[C]));var R=k.groups;if(x){var O=[E].concat($,L,h);void 0!==R&&O.push(R);var j=String(i.apply(void 0,O))}else j=l(E,h,L,$,R,i);L>=I&&(_+=h.slice(I,L)+j,I=L+E.length)}return _+h.slice(I)}]}),!y||!x||m)},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var r=n("1d80"),i=n("5899"),o="["+i+"]",a=RegExp("^"+o+o+"*"),c=RegExp(o+o+"*$"),s=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(a,"")),2&t&&(n=n.replace(c,"")),n}};t.exports={start:s(1),end:s(2),trim:s(3)}},"5ba0":function(t,e,n){},"63ef":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-sticky",[n("van-nav-bar",{attrs:{"left-text":"返回","left-arrow":""},on:{"click-left":t.onClickLeft}},[t._t("title",(function(){return[t._v("乐购")]}),{slot:"title"})],2)],1)],1)},i=[],o=(n("ac1f"),n("5319"),{name:"Commonhead",components:{},directives:{},data:function(){return{}},mounted:function(){},methods:{onClickLeft:function(){var t=this.$route.query.fromRouter;this.$router.replace(t)}}}),a=o,c=(n("09bb"),n("2877")),s=Object(c["a"])(a,r,i,!1,null,"326f6d92",null);e["a"]=s.exports},"6fac":function(t,e,n){},"8aa5":function(t,e,n){"use strict";var r=n("6547").charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},9263:function(t,e,n){"use strict";var r=n("ad6d"),i=n("9f7f"),o=n("5692"),a=n("7c73"),c=n("69f3").get,s=n("fce3"),u=n("107c"),l=RegExp.prototype.exec,d=o("native-string-replace",String.prototype.replace),f=l,h=function(){var t=/a/,e=/b*/g;return l.call(t,"a"),l.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),v=i.UNSUPPORTED_Y||i.BROKEN_CARET,p=void 0!==/()??/.exec("")[1],g=h||p||v||s||u;g&&(f=function(t){var e,n,i,o,s,u,g,x=this,m=c(x),y=m.raw;if(y)return y.lastIndex=x.lastIndex,e=f.call(y,t),x.lastIndex=y.lastIndex,e;var b=m.groups,k=v&&x.sticky,w=r.call(x),_=x.source,I=0,S=t;if(k&&(w=w.replace("y",""),-1===w.indexOf("g")&&(w+="g"),S=String(t).slice(x.lastIndex),x.lastIndex>0&&(!x.multiline||x.multiline&&"\n"!==t[x.lastIndex-1])&&(_="(?: "+_+")",S=" "+S,I++),n=new RegExp("^(?:"+_+")",w)),p&&(n=new RegExp("^"+_+"$(?!\\s)",w)),h&&(i=x.lastIndex),o=l.call(k?n:x,S),k?o?(o.input=o.input.slice(I),o[0]=o[0].slice(I),o.index=x.lastIndex,x.lastIndex+=o[0].length):x.lastIndex=0:h&&o&&(x.lastIndex=x.global?o.index+o[0].length:i),p&&o&&o.length>1&&d.call(o[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(o[s]=void 0)})),o&&b)for(o.groups=u=a(null),s=0;s<b.length;s++)g=b[s],u[g[0]]=o[g[1]];return o}),t.exports=f},"9f7f":function(t,e,n){var r=n("d039"),i=function(t,e){return RegExp(t,e)};e.UNSUPPORTED_Y=r((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=r((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a090:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[n("common-head"),n("form",{attrs:{action:"/"}},[n("van-search",{attrs:{"show-action":"",placeholder:"请输入搜索关键词"},on:{input:function(e){return t.onSearch(e)},keydown:function(e){return t.onSearch(e)},cancel:t.onCancel},model:{value:t.value,callback:function(e){t.value="string"===typeof e?e.trim():e},expression:"value"}})],1)],1),n("div",{staticClass:"defalut"},["defalut"==t.current&&t.historyList.length?n("div",{staticClass:"contain"},[n("p",{staticClass:"title"},[t._v(" 历史记录"),n("van-icon",{attrs:{color:"#f00",size:"20px",name:"delete-o"},on:{click:t.clearHistory}})],1),n("ul",{staticClass:"title-word"},t._l(t.historyList,(function(e){return n("li",{key:e.id,on:{click:function(n){return t.historyClick(e,n)}}},[t._v(" "+t._s(e.keyword)+" ")])})),0)]):t._e()]),"defalut"==t.current&&t.hotList.length?n("div",{staticClass:"contain"},[n("p",{staticClass:"title"},[t._v("热门搜索")]),n("ul",{staticClass:"title-word"},t._l(t.hotList,(function(e){return n("li",{key:e.id,class:e.is_hot?"active":"",on:{click:function(n){return t.historyClick(e,n)}}},[t._v(" "+t._s(e.keyword)+" ")])})),0)]):"keywordList"==t.current?n("div",{staticClass:"goods-list"},[n("van-list",t._l(t.goodsList,(function(e){return n("van-cell",{key:e.id,attrs:{title:e.name},on:{click:function(n){return t.showGoods(e,n)}}})})),1)],1):t._e(),"goodsList"==t.current?n("goods-show",{attrs:{goodsList:t.goodsList,currentGoods:t.currentGoods},on:{changeDef:t.getMsgFormSon}}):t._e()],1)},i=[],o=(n("e7e5"),n("d399")),a=(n("e17f"),n("2241"));n("b0c0"),n("498a"),n("ac1f"),n("5319");function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,n=null;return function(){n||(t.apply(this,arguments),n=setTimeout((function(){n=null}),e))}}var s=n("2e1a"),u=n("63ef"),l=n("0c6d");function d(t){return Object(l["a"])({url:"/search/indexaction",data:t})}function f(t){return Object(l["a"])({url:"/search/helperaction",data:t})}function h(t){return Object(l["a"])({url:"/search/clearhistoryAction",method:"post",data:t})}function v(t){return Object(l["a"])({url:"search/addhistoryaction",method:"post",data:t})}var p={data:function(){return{msgFormSon:"",value:"",hotList:[],historyList:[],timer:"",goodsList:[],currentGoods:[],current:"defalut"}},components:{GoodsShow:s["a"],CommonHead:u["a"]},created:function(){this.historyInit()},watch:{value:function(t){var e=this;t&&(clearTimeout(this.timer),this.timer=setTimeout((function(){e.init()}),500))}},methods:{historyInit:function(){var t=this;d({openId:localStorage.getItem("openId")}).then((function(e){t.hotList=e.data.hotKeywordList,t.historyList=e.data.historyData}))},historyClick:function(t){this.current="goodsList",this.value=t.keyword,this.addhistory(),this.init()},getMsgFormSon:function(t){this.msgFormSon=t,this.init()},init:function(){var t=this;f({keyword:this.value,order:this.msgFormSon}).then((function(e){t.goodsList=e.data.keywords}))},showGoods:function(t){this.value=t.name,this.currentGoods=[],this.addhistory(),this.currentGoods.push(t),0==this.value.length?this.current="defalut":this.current="goodsList"},addhistory:function(){v({openId:localStorage.getItem("openId"),keyword:this.value})},clearHistory:function(){var t=this;a["a"].confirm({title:"系统提示",message:"您确定要清除历史记录么？"}).then((function(){h({openId:localStorage.getItem("openId")}).then((function(e){if("清除成功"!=e.data.data)return Object(o["a"])("清除历史记录失败");t.historyList=[],Object(o["a"])("清除历史记录成功")}))})).catch((function(){Object(o["a"])("取消清除历史记录")}))},onSearch:function(t){"Enter"==t.key?(this.currentGoods=[],this.addhistory(),0==!this.value.length&&"keywordList"==this.current&&(this.current="goodsList")):c(this.init,10),0==this.value.trim().length?(this.current="defalut","Enter"==t.key||this.historyInit()):"defalut"==this.current&&0==!this.value.length&&(this.init(),this.current="keywordList")},onCancel:function(){Object(o["a"])("取消");var t=this.$route.query.fromRouter;this.$router.replace(t)}}},g=p,x=(n("223c"),n("2877")),m=Object(x["a"])(g,r,i,!1,null,"3cdbc2a4",null);e["default"]=m.exports},ac1f:function(t,e,n){"use strict";var r=n("23e7"),i=n("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},ad6d:function(t,e,n){"use strict";var r=n("825a");t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},b0c0:function(t,e,n){var r=n("83ab"),i=n("9bf2").f,o=Function.prototype,a=o.toString,c=/^\s*function ([^ (]*)/,s="name";r&&!(s in o)&&i(o,s,{configurable:!0,get:function(){try{return a.call(this).match(c)[1]}catch(t){return""}}})},c8d2:function(t,e,n){var r=n("d039"),i=n("5899"),o="​᠎";t.exports=function(t){return r((function(){return!!i[t]()||o[t]()!=o||i[t].name!==t}))}},d25c:function(t,e,n){"use strict";n("1655")},d784:function(t,e,n){"use strict";n("ac1f");var r=n("6eeb"),i=n("9263"),o=n("d039"),a=n("b622"),c=n("9112"),s=a("species"),u=RegExp.prototype;t.exports=function(t,e,n,l){var d=a(t),f=!o((function(){var e={};return e[d]=function(){return 7},7!=""[t](e)})),h=f&&!o((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[s]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return e=!0,null},n[d](""),!e}));if(!f||!h||n){var v=/./[d],p=e(d,""[t],(function(t,e,n,r,o){var a=e.exec;return a===i||a===u.exec?f&&!o?{done:!0,value:v.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}));r(String.prototype,t,p[0]),r(u,d,p[1])}l&&c(u[d],"sham",!0)}},fce3:function(t,e,n){var r=n("d039");t.exports=r((function(){var t=RegExp(".","string".charAt(0));return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))}}]);